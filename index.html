<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>íŒŒì£¼ì„œ ì°¨ëŸ‰ê´€ë¦¬</title>

  <!-- í°íŠ¸ -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --navy-1:#041737;
      --navy-2:#113a7a;
      --muted:#6b7280;
      --call:#10b981;
      --calendar-red:#e63946;
      --overlay: rgba(255,255,255,0.88);
      --select-yellow: #facc15;
    }
    html,body{height:100%; margin:0; padding:0;}
    body{
      font-family:'Noto Sans KR', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      color:#111;
      /* LAPD ê²½ì°°ì°¨ ë°°ê²½ (ì™¸ë¶€ ë§í¬) */
      background: url("https://upload.wikimedia.org/wikipedia/commons/2/2d/LAPD_Police_Car.jpg") no-repeat center center fixed;
      background-size: cover;
      -webkit-text-size-adjust:100%;
    }

    /* overlay to ensure readability */
    .overlay { position: fixed; inset:0; background: var(--overlay); z-index:0; }

    header{
      position: relative; z-index:2;
      background: rgba(255,255,255,0.98);
      padding:12px; text-align:center; font-weight:700; font-size:1.2rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }

    .container{ position:relative; z-index:2; max-width:920px; margin:16px auto; padding:0 14px 40px; }

    /* --- Banner (í¸ì§‘ ì‰¬ì›€) --- */
    .banner{
      background: linear-gradient(90deg,#0f3b6f,#2b4f9e);
      color:#fff;
      padding:10px 12px;
      border-radius:10px;
      text-align:center;
      font-weight:700;
      box-shadow: 0 6px 18px rgba(15,59,111,0.12);
      margin-bottom:14px;
    }

    /* main grid */
    .main-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap:12px;
    }
    .btn-main{
      display:flex; align-items:center; justify-content:center; gap:8px;
      padding:12px; border-radius:12px; color:#fff; font-weight:700; cursor:pointer;
      border:none;
      background: linear-gradient(180deg,var(--navy-1),var(--navy-2));
      box-shadow: 0 10px 22px rgba(12,35,80,0.12);
      transition: transform .12s ease;
      font-size:1rem;
    }
    .btn-main:active{ transform: translateY(1px); }

    .btn-calendar{
      background: var(--calendar-red) !important;
    }

    .submenu { display:none; margin-top:14px; }

    /* store grid and buttons */
    .store-grid{
      display:grid;
      gap:10px;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      margin-top:12px;
    }
    .store-btn{
      background: linear-gradient(180deg,#164a85,#0b2a4a);
      color:#fff;
      padding:10px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      box-shadow: 0 8px 20px rgba(10,30,60,0.12);
      border:none;
      text-align:center;
      transition: transform .12s ease;
      font-size:0.95rem;
    }
    .store-btn:active{ transform: translateY(1px); }

    /* selected (yellow) */
    .store-btn.selected, .qa-btn.selected {
      background: var(--select-yellow) !important;
      color: #000 !important;
      transform: scale(1.03);
      box-shadow: 0 10px 26px rgba(0,0,0,0.15);
    }

    .store-detail{
      display:none; background:#fff; padding:12px; margin-top:10px; border-radius:10px;
      box-shadow: 0 10px 28px rgba(0,0,0,0.06); text-align:left;
    }
    .phone-link{ display:inline-block; background:var(--call); color:#fff; padding:8px 12px; border-radius:8px; text-decoration:none; font-weight:700; }

    iframe{ width:100%; height:220px; border:0; border-radius:8px; margin-top:8px; }

    .back-btn{ margin-top:12px; padding:10px 12px; border-radius:10px; background:var(--muted); color:#fff; font-weight:700; border:none; cursor:pointer; }

    /* Q&A */
    .qa-category-btns{ display:grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap:10px; margin-top:10px; }
    .qa-btn{
      background:#f3f4f6; padding:10px; border-radius:10px; font-weight:700; cursor:pointer; border:none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }
    .qa-content{ margin-top:12px; text-align:left; }
    .qa-item{ background:#fff; padding:10px; border-radius:8px; margin-bottom:8px; box-shadow:0 3px 8px rgba(0,0,0,0.04); }
    .qa-q{ font-weight:700; cursor:pointer; }
    .qa-a{ display:none; margin-top:6px; color:#333; }

    /* calendar */
    .calendar{ display:grid; grid-template-columns: repeat(7,1fr); gap:8px; margin-top:12px; }
    .calendar .day{ background:var(--calendar-red); color:#fff; padding:10px; border-radius:10px; font-weight:700; text-align:center; cursor:pointer; border:none; }

    @media (max-width:480px){
      header{ font-size:1.05rem; padding:10px; }
      .btn-main{ padding:10px; font-size:0.95rem; }
      .calendar{ grid-template-columns: repeat(4,1fr); }
    }
  </style>
</head>
<body>
  <!-- ===== QR í† í° ì²´í¬ (ë¬¸ì„œ ìµœìƒë‹¨ì—ì„œ ì¦‰ì‹œ ì°¨ë‹¨) ===== -->
  <script>
    (function(){
      const params = new URLSearchParams(window.location.search);
      const token = params.get('token');
      const ALLOWED = 'abcd1234'; // ë³€ê²½í•˜ë ¤ë©´ ì—¬ê¸°ë¥¼ ìˆ˜ì •
      if(token !== ALLOWED){
        document.documentElement.innerHTML = '<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ì ‘ê·¼ë¶ˆê°€</title></head><body style="font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;"><div style="text-align:center;"><h2>ì ‘ê·¼ ë¶ˆê°€</h2><p>QR ì½”ë“œë¡œë§Œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.</p></div></body>';
        throw new Error('Access denied - invalid token');
      }
    })();
  </script>

  <!-- overlay -->
  <div class="overlay" aria-hidden="true"></div>

  <header>ğŸš“ íŒŒì£¼ì„œ ì°¨ëŸ‰ê´€ë¦¬</header>

  <div class="container">
    <!-- ===== Banner: í…ìŠ¤íŠ¸ë§Œ ìˆ˜ì •í•˜ì„¸ìš” ===== -->
    <div id="banner" class="banner">[10ì›”] ì›”ê°„ì ê²€í˜„í™© : ì ê²€ìœ¨ [20]% , ì •ë¹„ìœ¨ [30]%</div>

    <!-- ===== Main Menu ===== -->
    <div id="mainMenu" class="main-grid">
      <button class="btn-main" onclick="openMenu('accident')">ğŸ“ ì‚¬ê³ ì ‘ìˆ˜</button>
      <button class="btn-main" onclick="openMenu('anicare')">ğŸª ì• ë‹ˆì¹´ëœë“œ</button>
      <button class="btn-main" onclick="openMenu('tire')">ğŸ› íƒ€ì´ì–´</button>
      <button class="btn-main" onclick="openMenu('repair')">ğŸ”§ íŠ¹ì¥ìˆ˜ë¦¬</button>
      <button class="btn-main" onclick="openMenu('qa')">â“ Q&A</button>
      <button class="btn-main btn-calendar" onclick="openMenu('chuseok')">ğŸ“… 25ì¶”ì„(ì• ë‹ˆì¹´)</button>
    </div>

    <!-- ===== ACCIDENT ===== -->
    <section id="accident" class="submenu">
      <h2>ğŸ“ ì‚¬ê³ ì ‘ìˆ˜</h2>
      <div class="store-grid">
        <a class="store-btn" href="tel:15666881">ì‚¼ì„±í™”ì¬ 1566-6881</a>
        <a class="store-btn" href="tel:15661228">ì• ë‹ˆì¹´ ê¸´ê¸‰ì¶œë™ 1566-1228</a>
      </div>
      <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
    </section>

    <!-- ===== ANICARE (7 stores) =====
         Note: data-storeid attribute must match JS store id -->
    <section id="anicare" class="submenu">
      <h2>ğŸª ì• ë‹ˆì¹´ëœë“œ</h2>
      <div class="store-grid" id="anicareGrid">
        <button class="store-btn" data-storeid="anicare1" onclick="toggleStore('anicare1', this)">ê¸ˆì´Œì </button>
        <button class="store-btn" data-storeid="anicare2" onclick="toggleStore('anicare2', this)">êµí•˜ìš´ì •ì </button>
        <button class="store-btn" data-storeid="anicare3" onclick="toggleStore('anicare3', this)">íƒ„í˜„ì </button>
        <button class="store-btn" data-storeid="anicare4" onclick="toggleStore('anicare4', this)">ì¡°ë¦¬ì </button>
        <button class="store-btn" data-storeid="anicare5" onclick="toggleStore('anicare5', this)">êµí•˜ì </button>
        <button class="store-btn" data-storeid="anicare6" onclick="toggleStore('anicare6', this)">ë¬¸ì‚°ì </button>
        <button class="store-btn" data-storeid="anicare7" onclick="toggleStore('anicare7', this)">ë²•ì›ì </button>
      </div>

      <!-- details (ì „í™”ë²ˆí˜¸ í‘œê¸°/ë§í¬ í†µì¼) -->
      <div id="anicare1" class="store-detail">
        <a class="phone-link" href="tel:03153903562">ğŸ“ 031-5390-3562</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ê¸ˆì´Œë™ 420-1</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ê¸ˆì´Œë™+420-1&output=embed" loading="lazy"></iframe>
      </div>

      <div id="anicare2" class="store-detail">
        <a class="phone-link" href="tel:0319468300">ğŸ“ 031-946-8300</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ìš´ì •ì—­ê¸¸ 293</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ìš´ì •ì—­ê¸¸+293&output=embed" loading="lazy"></iframe>
      </div>

      <div id="anicare3" class="store-detail">
        <a class="phone-link" href="tel:03133191821">ğŸ“ 031-3319-1821</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ íƒ„í˜„ë©´ ì¶•í˜„ë¦¬ 253-3</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+íƒ„í˜„ë©´+ì¶•í˜„ë¦¬+253-3&output=embed" loading="lazy"></iframe>
      </div>

      <div id="anicare4" class="store-detail">
        <a class="phone-link" href="tel:03165285353">ğŸ“ 031-6528-5353</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì ì¥ê³¡ë¦¬ 529-1</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì¡°ë¦¬ì+ì¥ê³¡ë¦¬+529-1&output=embed" loading="lazy"></iframe>
      </div>

      <div id="anicare5" class="store-detail">
        <a class="phone-link" href="tel:0319572266">ğŸ“ 031-957-2266</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ë°œë™ 44-9</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ë¬¸ë°œë™+44-9&output=embed" loading="lazy"></iframe>
      </div>

      <div id="anicare6" class="store-detail">
        <a class="phone-link" href="tel:0319540951">ğŸ“ 031-954-0951</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ì‚°ì ì„ ìœ ë¦¬ 767-3</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ë¬¸ì‚°ì+ì„ ìœ ë¦¬+767-3&output=embed" loading="lazy"></iframe>
      </div>

      <div id="anicare7" class="store-detail">
        <a class="phone-link" href="tel:0319599469">ğŸ“ 031-959-9469</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë²•ì›ì ë²•ì›ë¦¬ 422-70</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ë²•ì›ì+ë²•ì›ë¦¬+422-70&output=embed" loading="lazy"></iframe>
      </div>

      <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
    </section>

    <!-- ===== TIRE (ì „í™”ë²ˆí˜¸ 0507-...) ===== -->
    <section id="tire" class="submenu">
      <h2>ğŸ› íƒ€ì´ì–´</h2>
      <div class="store-grid" id="tireGrid">
        <button class="store-btn" data-storeid="tire1" onclick="toggleStore('tire1', this)">ë”íƒ€ì´ì–´ìƒµ ë´‰ì¼ì²œì </button>
        <button class="store-btn" data-storeid="tire2" onclick="toggleStore('tire2', this)">í‹°ìŠ¤í…Œì´ì…˜ ì¶œíŒë‹¨ì§€ì </button>
        <button class="store-btn" data-storeid="tire3" onclick="toggleStore('tire3', this)">í•œêµ­íƒ€ì´ì–´ íŒŒì£¼êµí•˜ì </button>
      </div>

      <div id="tire1" class="store-detail">
        <a class="phone-link" href="tel:050788772848">ğŸ“ 0507-8877-2848</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì í†µì¼ë¡œ 477-10</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì¡°ë¦¬ì+í†µì¼ë¡œ+477-10&output=embed" loading="lazy"></iframe>
      </div>

      <div id="tire2" class="store-detail">
        <a class="phone-link" href="tel:050741324321">ğŸ“ 0507-4132-4321</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì‚°ë‚¨ë¡œ 98</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì‚°ë‚¨ë¡œ+98&output=embed" loading="lazy"></iframe>
      </div>

      <div id="tire3" class="store-detail">
        <a class="phone-link" href="tel:050724213319">ğŸ“ 0507-2421-3319</a>
        <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì²œì •êµ¬ë¡œ 163-6</small></div>
        <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì²œì •êµ¬ë¡œ+163-6&output=embed" loading="lazy"></iframe>
      </div>

      <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
    </section>

    <!-- ===== REPAIR ===== -->
    <section id="repair" class="submenu">
      <h2>ğŸ”§ íŠ¹ì¥ìˆ˜ë¦¬</h2>
      <p>ì—…ì²´ ì •ë³´ëŠ” ì¶”í›„ ì¶”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
      <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
    </section>

    <!-- ===== Q&A (ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ + content) ===== -->
    <section id="qa" class="submenu">
      <h2>â“ Q&A</h2>

      <div class="qa-category-btns">
        <button class="qa-btn" onclick="selectCategory('blackbox', this)">ğŸ“¹ ë¸”ë™ë°•ìŠ¤</button>
        <button class="qa-btn" onclick="selectCategory('equipment', this)">ğŸ›  íŠ¹ì¥ì¥ë¹„</button>
        <button class="qa-btn" onclick="selectCategory('tireFaq', this)">ğŸ› íƒ€ì´ì–´</button>
        <button class="qa-btn" onclick="selectCategory('wash', this)">ğŸ§½ ì„¸ì°¨</button>
      </div>

      <div id="qaContent" class="qa-content"></div>

      <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
    </section>

    <!-- ===== CHUSEOK (ë‹¬ë ¥) ===== -->
    <section id="chuseok" class="submenu">
      <h2>ğŸ‚ 25ë…„ ì¶”ì„ì—°íœ´ (2025-10-03 ~ 2025-10-09)</h2>
      <div class="calendar" role="list" aria-label="ì¶”ì„ ë‹¬ë ¥">
        <button class="day" onclick="showChuseokStores('3')">10/3</button>
        <button class="day" onclick="showChuseokStores('4')">10/4</button>
        <button class="day" onclick="showChuseokStores('5')">10/5</button>
        <button class="day" onclick="showChuseokStores('6')">10/6</button>
        <button class="day" onclick="showChuseokStores('7')">10/7</button>
        <button class="day" onclick="showChuseokStores('8')">10/8</button>
        <button class="day" onclick="showChuseokStores('9')">10/9</button>
      </div>

      <div id="chuseokStoreGrid" class="store-grid" style="margin-top:14px;"></div>

      <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
    </section>
  </div> <!-- /container -->

  <script>
    /* ===========================================================
       ë°ì´í„° í¸ì§‘ êµ¬ì—­ â€” ì—¬ê¸°ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤ (ì£¼ì„ ì°¸ì¡°)
       ===========================================================
       - anicareStores / tireStores: id must match detail element ids above
       - phoneDisplay: í™”ë©´ì— ë³´ì—¬ì§ˆ í•˜ì´í”ˆ í¬í•¨ í‘œê¸°
       - phoneTel: tel: ì— ë“¤ì–´ê°ˆ ìˆ«ìë§Œ (í•˜ì´í”ˆ ì œê±°)
       - holidaySchedule: ë‚ ì§œë³„ ê³ ì • ë§¤ì¥ ì—°ê²° (ì˜ˆ: '3': { anicare:['anicare1','anicare3'], tire:['tire2'] })
       - faqData: Q&A ë‚´ìš© (í‚¤ëŠ” 'blackbox','equipment','tireFaq','wash')
    */

    const faqData = {
      blackbox: [
        { q: "ë¸”ë™ë°•ìŠ¤ ì„¤ì¹˜ ê°€ëŠ¥í•œê°€ìš”?", a: "ë„¤, ì„¤ì¹˜ ê°€ëŠ¥í•©ë‹ˆë‹¤. ëª¨ë¸ë³„ ìš”ê¸ˆì€ ìƒë‹´ í›„ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤." }
      ],
      equipment: [
        { q: "ë¦¬í”„íŠ¸ ì ê²€ ì£¼ê¸°ëŠ”?", a: "ì•ˆì „ ê¸°ì¤€ì— ë”°ë¼ ì •ê¸° ì ê²€ì„ ê¶Œì¥í•©ë‹ˆë‹¤." }
      ],
      tireFaq: [
        { q: "íƒ€ì´ì–´ êµì²´ ê¶Œì¥ ì‹œì ì€?", a: "ë§ˆëª¨ë„ ë° ì—°ì‹ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì ê²€ í›„ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤." }
      ],
      wash: [
        { q: "ì‹¤ë‚´ ì„¸ì • ë¹„ìš©ì€?", a: "ì°¨ì¢…/ì˜¤ì—¼ë„ì— ë”°ë¼ ìƒì´í•©ë‹ˆë‹¤." }
      ]
    };

    // ì• ë‹ˆì¹´ëœë“œ â€” ì „í™”ë²ˆí˜¸ ì•ìë¦¬ ëª¨ë‘ '031'ë¡œ í†µì¼(ì›í•˜ì‹œë©´ ì—¬ê¸°ë§Œ ìˆ˜ì •)
    const anicareStores = [
      { id:'anicare1', name:'ì• ë‹ˆì¹´ëœë“œ ê¸ˆì´Œì ', phoneDisplay:'031-5390-3562', phoneTel:'03153903562', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ê¸ˆì´Œë™ 420-1' },
      { id:'anicare2', name:'ì• ë‹ˆì¹´ëœë“œ êµí•˜ìš´ì •ì ', phoneDisplay:'031-946-8300', phoneTel:'0319468300', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ìš´ì •ì—­ê¸¸ 293' },
      { id:'anicare3', name:'ì• ë‹ˆì¹´ëœë“œ íƒ„í˜„ì ', phoneDisplay:'031-3319-1821', phoneTel:'03133191821', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ íƒ„í˜„ë©´ ì¶•í˜„ë¦¬ 253-3' },
      { id:'anicare4', name:'ì• ë‹ˆì¹´ëœë“œ ì¡°ë¦¬ì ', phoneDisplay:'031-6528-5353', phoneTel:'03165285353', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì ì¥ê³¡ë¦¬ 529-1' },
      { id:'anicare5', name:'ì• ë‹ˆì¹´ëœë“œ êµí•˜ì ', phoneDisplay:'031-957-2266', phoneTel:'0319572266', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ë°œë™ 44-9' },
      { id:'anicare6', name:'ì• ë‹ˆì¹´ëœë“œ ë¬¸ì‚°ì ', phoneDisplay:'031-954-0951', phoneTel:'0319540951', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ì‚°ì ì„ ìœ ë¦¬ 767-3' },
      { id:'anicare7', name:'ì• ë‹ˆì¹´ëœë“œ ë²•ì›ì ', phoneDisplay:'031-959-9469', phoneTel:'0319599469', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ë²•ì›ì ë²•ì›ë¦¬ 422-70' }
    ];

    // íƒ€ì´ì–´ ë§¤ì¥ â€” ì „í™”ë²ˆí˜¸ ëª¨ë‘ 0507ë¡œ í†µì¼ (ì›í•˜ì‹œë©´ ê°’ë§Œ ìˆ˜ì •)
    const tireStores = [
      { id:'tire1', name:'ë”íƒ€ì´ì–´ìƒµ ë´‰ì¼ì²œì ', phoneDisplay:'0507-8877-2848', phoneTel:'050788772848', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì í†µì¼ë¡œ 477-10' },
      { id:'tire2', name:'í‹°ìŠ¤í…Œì´ì…˜ ì¶œíŒë‹¨ì§€ì ', phoneDisplay:'0507-4132-4321', phoneTel:'050741324321', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì‚°ë‚¨ë¡œ 98' },
      { id:'tire3', name:'í•œêµ­íƒ€ì´ì–´ íŒŒì£¼êµí•˜ì ', phoneDisplay:'0507-2421-3319', phoneTel:'050724213319', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì²œì •êµ¬ë¡œ 163-6' }
    ];

    // holidaySchedule: ë‚ ì§œë³„ ê³ ì • ë§¤ì¥ (ë¹„ì›Œë‘ë©´ ëœë¤ìœ¼ë¡œ í‘œì‹œ)
    const holidaySchedule = {
      '3': { anicare: [], tire: [] },
      '4': { anicare: [], tire: [] },
      '5': { anicare: [], tire: [] },
      '6': { anicare: [], tire: [] },
      '7': { anicare: [], tire: [] },
      '8': { anicare: [], tire: [] },
      '9': { anicare: [], tire: [] }
    };

    /* ===========================================================
       ë Œë” / ìœ í‹¸ - ì•„ë˜ëŠ” ìˆ˜ì • ë¶ˆí•„ìš”
       =========================================================== */

    function openMenu(id){
      document.getElementById('mainMenu').style.display='none';
      document.querySelectorAll('.submenu').forEach(s=>s.style.display='none');
      const el = document.getElementById(id);
      if(el) el.style.display='block';
      window.scrollTo({top:0,behavior:'smooth'});
    }

    function backToMain(){
      document.querySelectorAll('.submenu').forEach(s=>s.style.display='none');
      document.getElementById('mainMenu').style.display='grid';
      window.scrollTo({top:0,behavior:'smooth'});
    }

    /* Clear all store selections (visual) */
    function clearStoreSelections(){
      document.querySelectorAll('.store-btn').forEach(b=> b.classList.remove('selected'));
    }

    /* Toggle store detail and handle selection highlighting
       - id : store detail id (e.g. 'anicare1' or 'tire2')
       - btnElement : the button element clicked (optional) */
    function toggleStore(id, btnElement){
      // toggle details (only one visible at a time)
      document.querySelectorAll('.store-detail').forEach(d=>{
        if(d.id === id){
          d.style.display = (d.style.display === 'block') ? 'none' : 'block';
          if(d.style.display === 'block') d.scrollIntoView({behavior:'smooth', block:'center'});
        } else {
          d.style.display = 'none';
        }
      });

      // selection visuals: remove from all, then add to matching elements
      clearStoreSelections();

      // add to clicked button if provided
      if(btnElement){
        btnElement.classList.add('selected');
      }

      // add selected class to any buttons that represent same store id (by data-storeid)
      document.querySelectorAll('[data-storeid="'+id+'"]').forEach(el=>{
        el.classList.add('selected');
      });

      // also add to any chuseok-generated buttons (they will have data-storeid too)
      document.querySelectorAll('.store-btn[data-storeid="'+id+'"]').forEach(el=>{
        el.classList.add('selected');
      });
    }

    // pick n random distinct items from array
    function pickRandom(arr, n){
      const copy = arr.slice();
      const out = [];
      while(out.length < n && copy.length){
        const idx = Math.floor(Math.random()*copy.length);
        out.push(copy.splice(idx,1)[0]);
      }
      return out;
    }

    /* show chuseok stores for day
       - if holidaySchedule[day] provides arrays of ids, use them
       - otherwise random selection: up to 3 from anicare and up to 3 from tire
    */
    function showChuseokStores(day){
      const grid = document.getElementById('chuseokStoreGrid');
      grid.innerHTML = '';
      const sched = holidaySchedule[day];

      let anicareToShow = [], tireToShow = [];
      if(sched && ((sched.anicare && sched.anicare.length) || (sched.tire && sched.tire.length))){
        if(sched.anicare && sched.anicare.length) anicareToShow = sched.anicare.map(id => anicareStores.find(s=>s.id===id)).filter(Boolean);
        if(sched.tire && sched.tire.length) tireToShow = sched.tire.map(id => tireStores.find(s=>s.id===id)).filter(Boolean);
      } else {
        anicareToShow = pickRandom(anicareStores, Math.min(3, anicareStores.length));
        tireToShow = pickRandom(tireStores, Math.min(3, tireStores.length));
      }

      // header
      const header = document.createElement('div');
      header.style.gridColumn = '1/-1';
      header.style.fontWeight = '700';
      header.style.textAlign = 'left';
      header.style.padding = '6px 0';
      header.textContent = `10/${day} ì˜ì—… ë§¤ì¥ â€” ì• ë‹ˆì¹´ ${anicareToShow.length}ê³³ Â· íƒ€ì´ì–´ ${tireToShow.length}ê³³`;
      grid.appendChild(header);

      // show anicare stores
      anicareToShow.forEach(s=>{
        const btn = document.createElement('button');
        btn.className = 'store-btn';
        btn.setAttribute('data-storeid', s.id);
        btn.textContent = `ì• ë‹ˆì¹´ â€¢ ${s.name} (${s.phoneDisplay})`;
        btn.onclick = function(){
          // visual selection
          clearStoreSelections();
          btn.classList.add('selected');
          // open menu and toggle detail
          openMenu('anicare');
          setTimeout(()=> toggleStore(s.id, document.querySelector('[data-storeid="'+s.id+'"]')), 180);
        };
        grid.appendChild(btn);
      });

      // show tire stores
      tireToShow.forEach(s=>{
        const btn = document.createElement('button');
        btn.className = 'store-btn';
        btn.setAttribute('data-storeid', s.id);
        btn.textContent = `íƒ€ì´ì–´ â€¢ ${s.name} (${s.phoneDisplay})`;
        btn.onclick = function(){
          clearStoreSelections();
          btn.classList.add('selected');
          openMenu('tire');
          setTimeout(()=> toggleStore(s.id, document.querySelector('[data-storeid="'+s.id+'"]')), 180);
        };
        grid.appendChild(btn);
      });
    }

    /* Q&A: select category and render content */
    function selectCategory(catKey, btnElement){
      // remove selected from qa buttons
      document.querySelectorAll('.qa-btn').forEach(b=> b.classList.remove('selected'));
      // add to this
      if(btnElement) btnElement.classList.add('selected');

      // render Q&A for this category
      const area = document.getElementById('qaContent');
      area.innerHTML = '';
      const items = faqData[catKey] || [];
      if(items.length === 0){
        const note = document.createElement('div'); note.style.padding='10px'; note.style.color='#666'; note.style.background='#fff'; note.style.borderRadius='8px';
        note.textContent = 'ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤. faqData.' + catKey + ' ì— í•­ëª©ì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”.';
        area.appendChild(note);
        return;
      }
      items.forEach(it=>{
        const wrap = document.createElement('div'); wrap.className='qa-item';
        const q = document.createElement('div'); q.className='qa-q'; q.textContent = 'Q. ' + it.q;
        const a = document.createElement('div'); a.className='qa-a'; a.innerHTML = 'A. ' + it.a;
        q.addEventListener('click', ()=> { a.style.display = (a.style.display === 'block') ? 'none' : 'block'; });
        wrap.appendChild(q); wrap.appendChild(a);
        area.appendChild(wrap);
      });
    }

    /* render FAQ buttons initial state (no selection) */
    function init(){
      // ensure main menu visible, submenus hidden
      document.getElementById('mainMenu').style.display = 'grid';
      document.querySelectorAll('.submenu').forEach(s=> s.style.display = 'none');
      document.querySelectorAll('.store-detail').forEach(d => d.style.display = 'none');

      // render default (no QA category selected)
      document.getElementById('qaContent').innerHTML = '<div style="padding:10px;color:#666;background:#fff;border-radius:8px;">ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>';
    }

    window.addEventListener('load', init);

    /* Expose data for easy console editing if needed */
    window.anicareStores = anicareStores;
    window.tireStores = tireStores;
    window.holidaySchedule = holidaySchedule;
    window.faqData = faqData;

  </script>
</body>
</html>
