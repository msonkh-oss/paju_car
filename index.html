<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>íŒŒì£¼ì„œ ì°¨ëŸ‰ê´€ë¦¬</title>
<style>
  :root{
    --bg1:#fbf6ef; --bg2:#fffdf9;
    --pastel-blue:#AEC6CF; --pastel-green:#B5EAD7; --pastel-pink:#FFB7B2;
    --pastel-yellow:#FFFACD; --pastel-purple:#D4B4FF;
    --muted:#6b7280; --call:#10b981; --holiday:#e63946; --select:#facc15;
    --text:#111;
  }
  html,body{height:100%;margin:0;padding:0;font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;color:var(--text);-webkit-text-size-adjust:100%}
  body{background: linear-gradient(135deg,var(--bg1),var(--bg2));}

  .wrap{max-width:920px;margin:14px auto;padding:12px;}
  header{background:#fff;padding:12px;border-radius:10px;text-align:center;font-weight:800;color:#274056;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
  #banner{margin:12px 0;padding:10px;border-radius:10px;background:#fff7e8;border:1px solid #f1dcc2;font-weight:700;text-align:center}

  /* MAIN MENU: vertical, slightly narrower width for prettier layout */
  .main-menu{ display:flex; flex-direction:column; align-items:center; gap:12px; margin-top:8px; }
  .main-btn{
    width:86%; max-width:560px; padding:14px 16px; border-radius:12px; border:0;
    background:linear-gradient(180deg,var(--pastel-blue),#9fb7bf);
    color:#083b3b; font-weight:800; font-size:1.02rem; cursor:pointer;
    box-shadow:0 8px 18px rgba(12,35,80,0.06); touch-action:manipulation;
  }
  .main-btn.alt{ background: linear-gradient(180deg,var(--pastel-green),#aee6cf); color:#133b2f; }
  .main-btn.pink{ background: linear-gradient(180deg,var(--pastel-pink),#ff9f9a); color:#3b0a0a; }
  .main-btn:active{ transform: translateY(1px); }

  /* sections */
  section.hidden{ display:none; margin-top:12px; }
  section{ margin-top:12px; }

  /* store grid */
  .store-grid{ display:grid; gap:10px; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); align-items:start; margin-top:8px; }
  .store-btn{
    padding:12px; border-radius:10px; border:0; background:linear-gradient(180deg,var(--pastel-purple),#cdb7ff); color:#21103b; font-weight:800; font-size:0.98rem; cursor:pointer;
    box-shadow:0 6px 16px rgba(0,0,0,0.06); touch-action:manipulation;
  }
  .store-btn:hover{ transform: translateY(-3px); }
  .store-btn.selected{ background:var(--select); color:#111; }

  .store-detail{ display:none; margin-top:12px; padding:12px; background:#fff; border-radius:10px; box-shadow:0 8px 22px rgba(0,0,0,0.06); text-align:left; }
  .phone-link{ display:inline-block; padding:8px 12px; border-radius:8px; background:var(--call); color:#fff; text-decoration:none; font-weight:800; }
  .map-link{ display:inline-block; margin-left:8px; padding:8px 10px; border-radius:8px; border:1px solid #ddd; background:#fff; color:#274056; text-decoration:none; font-weight:700 }

  .back-btn{ margin-top:12px; padding:10px 14px; border-radius:10px; background:var(--muted); color:#fff; border:0; cursor:pointer; font-weight:800 }

  /* Q&A - ë³€ê²½ëœ ë ˆì´ì•„ì›ƒ (ì›ë³¸ ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ) */
  .qa-panel{
    display: grid;
    grid-template-columns: 220px 1fr; /* ì¢Œì¸¡ ì¹´í…Œê³ ë¦¬, ìš°ì¸¡ ë¦¬ìŠ¤íŠ¸ */
    gap: 12px;
    align-items: start;
  }
  .qa-top{
    display:flex;
    flex-direction:column;     /* í•œ í™”ë©´ì— ë³´ì´ë„ë¡ ì„¸ë¡œ ì •ë ¬ */
    gap:8px;
    overflow:auto;
    max-height:60vh;          /* í•„ìš”ì‹œ ìŠ¤í¬ë¡¤ (ëª¨ë°”ì¼/ê¸´ ëª©ë¡ ì•ˆì „) */
    padding-right:6px;
  }
  .qa-top::-webkit-scrollbar{ width:6px; }
  .qa-tab{
    display:block;
    width:100%;
    padding:10px 12px;
    border-radius:10px;
    background:#fff7e8;
    border:0;
    font-weight:800;
    cursor:pointer;
    text-align:left;
  }
  .qa-tab.active{ background:var(--select); color:#111 }
  .qa-list{ margin-top:0 } /* ì˜¤ë¥¸ìª½ ì½˜í…ì¸ ëŠ” qa-panel ë‚´ë¶€ì— ìˆìœ¼ë¯€ë¡œ ìƒë‹¨ì—¬ë°± ì œê±° */
  .qa-item{ padding:12px; border-radius:10px; background:#fff; margin-bottom:10px; box-shadow:0 4px 12px rgba(0,0,0,0.04) }
  .qa-q{ font-weight:800; cursor:pointer }
  .qa-a{ display:none; margin-top:8px; color:#333 }

  /* calendar */
  .calendar{ display:grid; grid-template-columns: repeat(7,1fr); gap:8px; margin-top:8px; }
  .calendar .day{ background:var(--holiday); color:#fff; padding:12px; border-radius:8px; font-weight:800; cursor:pointer; border:0; }
  .calendar .day.selected{ background:var(--select); color:#111; }

  @media(max-width:840px){
    .qa-panel{ grid-template-columns: 1fr; } /* ëª¨ë°”ì¼ì—ì„œ ì¹´í…Œê³ ë¦¬ ìœ„, ëª©ë¡ ì•„ë˜ë¡œ ìŠ¤íƒ */
    .qa-top{ flex-direction:row; overflow-x:auto; max-height:none; gap:8px; padding:0 6px; }
    .qa-tab{ min-width:120px; white-space:nowrap; text-align:center; }
  }

  @media(max-width:640px){
    .main-btn{ width:92%; font-size:1rem; padding:13px 14px; }
    .store-grid{ grid-template-columns: repeat(1,1fr); }
    .qa-tab{ min-width:96px; padding:9px 10px; }
    .calendar{ grid-template-columns: repeat(4,1fr); }
  }
</style>
</head>
<body>
<script>
  // QR í† í° ì²´í¬ (ìµœìƒë‹¨ì—ì„œ ë¹ ë¥´ê²Œ ì°¨ë‹¨)
  (function(){
    const params = new URLSearchParams(window.location.search);
    const token = params.get('token');
    const ALLOWED = 'abcd1234';
    if(token !== ALLOWED){
      document.documentElement.innerHTML = '<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ì ‘ê·¼ë¶ˆê°€</title></head><body style="font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;"><div style="text-align:center;"><h2>ì ‘ê·¼ ë¶ˆê°€</h2><p>QR ì½”ë“œë¡œë§Œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤.</p></div></body>';
      throw new Error('Access denied - invalid token');
    }
  })();
</script>

<div class="wrap">
  <header>ğŸš“ íŒŒì£¼ì„œ ì°¨ëŸ‰ê´€ë¦¬</header>

  <!-- editable banner -->
  <div id="banner">[9ì›”] ì›”ê°„ì ê²€í˜„í™© : ì ê²€ìœ¨ [79]% , ì •ë¹„ìœ¨ [68]%</div>

  <!-- MAIN MENU -->
  <div class="main-menu" id="mainMenu">
    <button class="main-btn" data-target="accident">ğŸ“ ì‚¬ê³ ì ‘ìˆ˜</button>
    <button class="main-btn" data-target="anicare">ğŸª ì• ë‹ˆì¹´ëœë“œ</button>
    <button class="main-btn alt" data-target="tire">ğŸ› íƒ€ì´ì–´</button>
    <button class="main-btn pink" data-target="repair">ğŸ”§ íŠ¹ì¥ìˆ˜ë¦¬</button>
    <button class="main-btn" data-target="qa">â“ Q&A</button>
    <button class="main-btn" data-target="chuseok">ğŸ“… 25ì¶”ì„(ì• ë‹ˆì¹´)</button>
  </div>

  <!-- ACCIDENT -->
  <section id="accident" class="hidden">
    <div style="font-weight:800;margin-bottom:8px">ğŸ“ ì‚¬ê³ ì ‘ìˆ˜</div>
    <div class="store-grid">
      <a class="store-btn" href="tel:15666881">ì‚¼ì„±í™”ì¬ 1566-6881</a>
      <a class="store-btn" href="tel:15661228">ì• ë‹ˆì¹´ ê¸´ê¸‰ì¶œë™ 1566-1228</a>
    </div>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- ANICARE -->
  <section id="anicare" class="hidden">
    <div style="font-weight:800;margin-bottom:8px">ğŸª ì• ë‹ˆì¹´ëœë“œ</div>
    <div class="store-grid" id="anicareGrid">
      <button class="store-btn" data-storeid="anicare1">ì• ë‹ˆì¹´ëœë“œ ê¸ˆì´Œì </button>
      <button class="store-btn" data-storeid="anicare2">ì• ë‹ˆì¹´ëœë“œ êµí•˜ìš´ì •ì </button>
      <button class="store-btn" data-storeid="anicare3">ì• ë‹ˆì¹´ëœë“œ íƒ„í˜„ì </button>
      <button class="store-btn" data-storeid="anicare4">ì• ë‹ˆì¹´ëœë“œ ì¡°ë¦¬ì </button>
      <button class="store-btn" data-storeid="anicare5">ì• ë‹ˆì¹´ëœë“œ êµí•˜ì </button>
      <button class="store-btn" data-storeid="anicare6">ì• ë‹ˆì¹´ëœë“œ ë¬¸ì‚°ì </button>
      <button class="store-btn" data-storeid="anicare7">ì• ë‹ˆì¹´ëœë“œ ë²•ì›ì </button>
    </div>

    <!-- details: ì „í™”ë²ˆí˜¸/ì£¼ì†Œ (tel:ì—ëŠ” ìˆ«ìë§Œ), ë„¤ì´ë²„ ë§í¬ë¡œ íŠ¸ë˜í”½ ìµœì†Œí™” -->
    <div id="anicare1" class="store-detail">
      <a class="phone-link" href="tel:03153903562">ğŸ“ 031-943-1171</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ê¸ˆì´Œë™ 420-1</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ê¸ˆì´Œë™%20420-1" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>
    <div id="anicare2" class="store-detail">
      <a class="phone-link" href="tel:0319468300">ğŸ“ 031-946-8300</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ìš´ì •ì—­ê¸¸ 293</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ìš´ì •ì—­ê¸¸%20293" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>
    <div id="anicare3" class="store-detail">
      <a class="phone-link" href="tel:03133191821">ğŸ“ 031-942-1821</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ íƒ„í˜„ë©´ ì¶•í˜„ë¦¬ 253-3</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20íƒ„í˜„ë©´%20ì¶•í˜„ë¦¬%20253-3" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>
    <div id="anicare4" class="store-detail">
      <a class="phone-link" href="tel:03165285353">ğŸ“ 031-965-5353</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì ì¥ê³¡ë¦¬ 529-1</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ì¡°ë¦¬ì%20ì¥ê³¡ë¦¬%20529-1" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>
    <div id="anicare5" class="store-detail">
      <a class="phone-link" href="tel:0319572266">ğŸ“ 031-957-2266</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ë°œë™ 44-9</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ë¬¸ë°œë™%2044-9" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>
    <div id="anicare6" class="store-detail">
      <a class="phone-link" href="tel:0319540951">ğŸ“ 031-954-0951</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ì‚°ì ì„ ìœ ë¦¬ 767-3</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ë¬¸ì‚°ì%20ì„ ìœ ë¦¬%20767-3" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>
    <div id="anicare7" class="store-detail">
      <a class="phone-link" href="tel:0319599469">ğŸ“ 031-958-5711</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë²•ì›ì ë²•ì›ë¦¬ 422-70</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ë²•ì›ì%20ë²•ì›ë¦¬%20422-70" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>

    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- TIRE -->
  <section id="tire" class="hidden">
    <div style="font-weight:800;margin-bottom:8px">ğŸ› íƒ€ì´ì–´</div>
    <div class="store-grid" id="tireGrid">
      <button class="store-btn" data-storeid="tire1">ë”íƒ€ì´ì–´ìƒµ ë´‰ì¼ì²œì </button>
      <button class="store-btn" data-storeid="tire2">í‹°ìŠ¤í…Œì´ì…˜ ì¶œíŒë‹¨ì§€ì </button>
      <button class="store-btn" data-storeid="tire3">í•œêµ­íƒ€ì´ì–´ íŒŒì£¼êµí•˜ì </button>
    </div>

    <div id="tire1" class="store-detail">
      <a class="phone-link" href="tel:050788772848">ğŸ“ 0507-1385-2849</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì í†µì¼ë¡œ 477-10</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ì¡°ë¦¬ì%20í†µì¼ë¡œ%20477-10" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>

    <div id="tire2" class="store-detail">
      <a class="phone-link" href="tel:050741324321">ğŸ“ 0507-1477-1335</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì‚°ë‚¨ë¡œ 98</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ì‚°ë‚¨ë¡œ%2098" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>

    <div id="tire3" class="store-detail">
      <a class="phone-link" href="tel:050724213319">ğŸ“ 0507-1438-3340</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì²œì •êµ¬ë¡œ 163-6</small>
      <a class="map-link" href="https://map.naver.com/v5/search/ê²½ê¸°%20íŒŒì£¼ì‹œ%20ì²œì •êµ¬ë¡œ%20163-6" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„</a></div>
    </div>

    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- REPAIR -->
  <section id="repair" class="hidden">
    <div style="font-weight:800;margin-bottom:8px">ğŸ”§ íŠ¹ì¥ìˆ˜ë¦¬</div>
    <p>ì—…ë°ì´íŠ¸ ì¤‘........</p>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- Q&A -->
  <section id="qa" class="hidden">
    <div style="font-weight:800;margin-bottom:8px">â“ Q&A</div>

    <!-- ë³€ê²½: í•œ í™”ë©´ì— ì¹´í…Œê³ ë¦¬(ì™¼ìª½) + ë¦¬ìŠ¤íŠ¸(ì˜¤ë¥¸ìª½) ë³´ì´ë„ë¡ íŒ¨ë„ ì¶”ê°€ -->
    <div class="qa-panel">
      <div class="qa-top" id="qaCatBar" aria-hidden="false"></div>
      <div id="qaList" class="qa-list"></div>
    </div>

    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- CHUSEOK -->
  <section id="chuseok" class="hidden">
    <div style="font-weight:800;margin-bottom:8px">ğŸ‚ 25ë…„ ì¶”ì„ì—°íœ´ (2025-10-03 ~ 2025-10-09)</div>
    <div class="calendar" id="chuseokCalendar" role="list" aria-label="ì¶”ì„ ë‹¬ë ¥">
      <button class="day" data-day="3">10/3</button>
      <button class="day" data-day="4">10/4</button>
      <button class="day" data-day="5">10/5</button>
      <button class="day" data-day="6">10/6</button>
      <button class="day" data-day="7">10/7</button>
      <button class="day" data-day="8">10/8</button>
      <button class="day" data-day="9">10/9</button>
    </div>

    <div id="chuseokStoreGrid" class="store-grid" style="margin-top:12px"></div>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

</div> <!-- wrap -->

<script>
/* ===========================
   ì›ë³¸ ë°ì´í„° â€” ê·¸ëŒ€ë¡œ ìœ ì§€ (ì „í™”ë²ˆí˜¸/Q&A/ìŠ¤ì¼€ì¤„ ë“±)
   =========================== */
const faqData = {
  blackbox: [
    { q:"ë¸”ë™ë°•ìŠ¤ê°€ ê³ ì¥ë‚¬ì–´ìš”", a:"ìˆœì°°ì°¨ëŸ‰ì€ íŠ¹ì¥ì—…ì²´ì— ì „í™”, ì¼ë°˜ì°¨ëŸ‰ì€ ë¸”ë°•ì—…ì²´ ASì‹ ì²­" },
    { q:"ë¸”ë™ë°•ìŠ¤ê°€ ì €ì¥ì´ ì•ˆë˜ìš”", a:"ì°¨ëŸ‰ë‹´ë‹¹ì—ê²Œ ë¬¸ì˜í›„ ë©”ëª¨ë¦¬ì¹´ë“œ êµì²´" }
  ],
  lift: [
    { q:"ë¦¬í”„íŠ¸ê°€ ê³ ì¥ë‚¬ì–´ìš”", a:"ë¦¬í”„íŠ¸ì˜†ìª½ì— íŠ¹ì¥ì—…ì²´ ì „í™”ë²ˆí˜¸ í™•ì¸í›„ ASì‹ ì²­" }
    ],
  tire: [
    { q:"íƒ€ì´ì–´ê°€ ë§ˆëª¨ë˜ì„œ êµì²´í•´ì•¼ í•´ìš”", a:"íƒ€ì´ì–´ ë©”ë‰´ì—ì„œ ë§¤ì¥ê²€ìƒ‰ ê°€ê¹Œìš´ ë§¤ì¥ ë°©ë¬¸ êµì²´" },
    { q:"íƒ€ì´ì–´ ì˜†ì´ í„°ì¡Œì–´ìš”", a:"ì˜¤ë˜ë˜ì„œ í„°ì§„ê²ƒì´ ì•„ë‹Œê²ƒì€ ì• ë‹ˆì¹´ì—ì„œ ìŠ¹ì¸ì„ ì•ˆí•´ì¤ë‹ˆë‹¤(ë‹¤í–‰íˆ ìŠ¹ì¸í•´ì£¼ë©´ ê·¸ëƒ¥ êµì²´í•˜ì‹¬ë¨) ë³´í—˜ì ‘ìˆ˜+ë°œìƒë³´ê³ +ì˜¨ë‚˜ë¼ê³µë¬¸ í›„ íƒ€ì´ì–´ êµì²´" }
  ],
  microphone: [
    { q:"ì£¼ë¨¹ë§ˆì´í¬ê°€ ê³ ì¥ë‚¬ì–´ìš”", a:"ì£¼ë¨¹ë§ˆì´í¬ ì—¬ë¶„ í™•ì¸ êµì²´ ë˜ëŠ” ìƒˆë¡œ êµ¬ë§¤í›„ êµì²´" },
    { q:"ë¬´ì „ê¸°ê°€ ì•ˆë¼ìš”", a:"ì •ì¥ê³„ ë¬´ì„ ë‹´ë‹¹ì—ê²Œ ë¬¸ì˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤." }
  ],
  wash: [
    { q:"ì°¨ë‚´ë¶€ê°€ ì§€ì ¸ë¶„í•´ì„œ ì„¸ì°¨ë¥¼ í•˜ê³  ì‹¶ì–´ìš”", a:"í˜„ì¬ ì„¸ì°¨ë¹„ëŠ” ë”°ë¡œ ë°°ì •ë˜ì§€ ì•Šê³  ìˆìŠµë‹ˆë‹¤. ìˆ˜ë¦¬ë¹„ì—ì„œ ì§€ê¸‰ì¤‘ì¸ë°ìš” ì„¸ì°¨ê°€ í•„ìš”í•˜ì‹œë©´ ì„¸ì°¨ìš”ì²­ì„œ í•˜ë‚˜ ë³´ë‚´ì£¼ì‹œê³  ì¹´ë“œ ë°›ì•„ê°€ì„œ ì„¸ì°¨í•˜ì‹œê³  ì¹´ë“œ+ì˜ìˆ˜ì¦ ë°˜ë‚©í•˜ì‹œë©´ ë©ë‹ˆë‹¤." }
  ],
  etc: [
    { q:"IDSê°€ ì•ˆë‚˜ì™€ìš”", a:"IDSëŠ” ë²”ì˜ˆì— ì¼ë‹¨ ë¬¸ì˜ í•˜ì…”ì•¼ í•©ë‹ˆë‹¤." },
    { q:"ë¬´ì „ê¸°ê°€ ì•ˆë¼ìš”", a:"ë¬´ì „ê¸°ëŠ” ì •ì¥ê³„ ë¬´ì„ ë‹´ë‹¹ì—ê²Œ ë¬¸ì˜í•˜ì‹œë©´ ë©ë‹ˆë‹¤." },
    { q:"ì‚¬ê³ ê°€ ë‚¬ì–´ìš”(í”¼í•´ì°¨ëŸ‰)", a:"(í”¼í•´ì°¨ëŸ‰ì¸ ê²½ìš°) í´ë„· êµí†µì‚¬ê³  ë°œìƒë³´ê³  - ì˜¨ë‚˜ë¼ ê³µë¬¸(ëŒ€ì°¨ë£Œ ë•Œë¬¸) - ê³µì—…ì‚¬ ì…ê³  ìˆ˜ë¦¬ },
    { q:"ì‚¬ê³ ê°€ ë‚¬ì–´ìš”(ê°€í•´ì°¨ëŸ‰)", a:"(ê°€í•´ì°¨ëŸ‰ì¸ ê²½ìš°) í´ë„· êµí†µì‚¬ê³  ë°œìƒë³´ê³  - ì˜¨ë‚˜ë¼ê³µë¬¸(ìˆ˜ë¦¬ë¹„ ë•Œë¬¸) - ê³µì—…ì‚¬ ì…ê³ ìˆ˜ë¦¬ - ì°¨ëŸ‰ë‹´ë‹¹ì—ê²Œ í†µë³´" },
     { q:"ë°ì¹¼(ë§ˆí¬)ê°€ ì†ìƒëì–´ìš”", a:"ë°ì¹¼(ë§ˆí¬) ê¹Œì§€ ìˆ˜ë¦¬í•˜ì‹¤ë ¤ë©´ ì¡°ë¦¬ìì— ìˆëŠ” ë‘ì›í˜„ëŒ€ì„œë¹„ìŠ¤ì—ì„œ ìˆ˜ë¦¬í•˜ì‹œë©´ ë©ë‹ˆë‹¤." }
       ]
};

const anicareStores = [
 { id:'anicare1', name:'ì• ë‹ˆì¹´ëœë“œ ê¸ˆì´Œì ', phoneDisplay:'031-943-1171', phoneTel:'0319431171' },
  { id:'anicare2', name:'ì• ë‹ˆì¹´ëœë“œ êµí•˜ìš´ì •ì ', phoneDisplay:'031-946-8300', phoneTel:'0319468300' },
  { id:'anicare3', name:'ì• ë‹ˆì¹´ëœë“œ íƒ„í˜„ì ', phoneDisplay:'031-942-1821', phoneTel:'0319421821' },
  { id:'anicare4', name:'ì• ë‹ˆì¹´ëœë“œ ì¡°ë¦¬ì ', phoneDisplay:'031-965-5353', phoneTel:'0319655353' },
  { id:'anicare5', name:'ì• ë‹ˆì¹´ëœë“œ êµí•˜ì ', phoneDisplay:'031-957-2266', phoneTel:'0319572266' },
  { id:'anicare6', name:'ì• ë‹ˆì¹´ëœë“œ ë¬¸ì‚°ì ', phoneDisplay:'031-954-0951', phoneTel:'0319540951' },
  { id:'anicare7', name:'ì• ë‹ˆì¹´ëœë“œ ë²•ì›ì ', phoneDisplay:'031-958-5711', phoneTel:'0319585711' }
];

const tireStores = [
{ id:'tire1', name:'ë”íƒ€ì´ì–´ìƒµ ë´‰ì¼ì²œì ', phoneDisplay:'0507-1385-2849', phoneTel:'050713852849' },
  { id:'tire2', name:'í‹°ìŠ¤í…Œì´ì…˜ ì¶œíŒë‹¨ì§€ì ', phoneDisplay:'0507-1477-1335', phoneTel:'050714771335' },
  { id:'tire3', name:'í•œêµ­íƒ€ì´ì–´ íŒŒì£¼êµí•˜ì ', phoneDisplay:'0507-1438-3340', phoneTel:'050714383340' }
];

const holidaySchedule = {
  '3': { anicare: ['anicare1','anicare2','anicare3'], tire: ['tire1','tire2'] },
  '4': { anicare: ['anicare4'], tire: ['tire1','tire2','tire3'] },
  '5': { anicare: ['anicare2'], tire: ['tire1','tire2'] },
  '6': { anicare: [], tire: [] },
  '7': { anicare: ['anicare3'], tire: ['tire2'] },
  '8': { anicare: ['anicare4'], tire: ['tire1','tire2'] },
  '9': { anicare: ['anicare1'], tire: ['tire1','tire2','tire3'] }
};

/* ===========================
   ë Œë”/ìœ í‹¸ (DOM ready í›„ ì´ˆê¸°í™”)
   =========================== */

function openMenu(id){
  // hide main menu and all sections, show requested section
  document.getElementById('mainMenu').style.display = 'none';
  document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
  const el = document.getElementById(id);
  if(el) el.classList.remove('hidden');
  window.scrollTo({ top:0, behavior:'smooth' });
}

function backToMain(){
  document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
  document.getElementById('mainMenu').style.display = 'flex';
  // clear highlights
  document.querySelectorAll('.store-btn').forEach(b => b.classList.remove('selected'));
  document.querySelectorAll('.calendar .day').forEach(d => d.classList.remove('selected'));
  window.scrollTo({ top:0, behavior:'smooth' });
}

function toggleStore(id, btnElem){
  // show/hide details
  document.querySelectorAll('.store-detail').forEach(d => {
    d.style.display = (d.id === id && d.style.display !== 'block') ? 'block' : 'none';
    if(d.style.display==='block') d.scrollIntoView({behavior:'smooth', block:'center'});
  });
  // highlight buttons for same storeid (both static and dynamic)
  document.querySelectorAll('.store-btn').forEach(b => b.classList.remove('selected'));
  document.querySelectorAll('[data-storeid="'+id+'"]').forEach(b => b.classList.add('selected'));
  if(btnElem) btnElem.classList.add('selected');
}

function pickRandom(arr, n){
  const copy = arr.slice(), out = [];
  while(out.length < n && copy.length){
    const i = Math.floor(Math.random()*copy.length);
    out.push(copy.splice(i,1)[0]);
  }
  return out;
}

function showChuseokStores(day){
  const grid = document.getElementById('chuseokStoreGrid');
  grid.innerHTML = '';
  const sched = holidaySchedule[day];
  let anicareToShow = [], tireToShow = [];
  if(sched && ((sched.anicare && sched.anicare.length) || (sched.tire && sched.tire.length))){
    if(sched.anicare) anicareToShow = sched.anicare.map(id => anicareStores.find(s => s.id === id)).filter(Boolean);
    if(sched.tire) tireToShow = sched.tire.map(id => tireStores.find(s => s.id === id)).filter(Boolean);
  } else {
    anicareToShow = pickRandom(anicareStores, Math.min(3, anicareStores.length));
    tireToShow = pickRandom(tireStores, Math.min(3, tireStores.length));
  }

  const header = document.createElement('div');
  header.style.gridColumn = '1/-1';
  header.style.fontWeight = '700';
  header.style.textAlign = 'left';
  header.style.padding = '6px 0';
  header.textContent = `10/${day} ì˜ì—… ë§¤ì¥ â€” ì• ë‹ˆì¹´ ${anicareToShow.length}ê³³ Â· íƒ€ì´ì–´ ${tireToShow.length}ê³³`;
  grid.appendChild(header);

  anicareToShow.forEach(s => {
    const btn = document.createElement('button');
    btn.className = 'store-btn';
    btn.setAttribute('data-storeid', s.id);
    btn.textContent = `ì• ë‹ˆì¹´ â€¢ ${s.name} (${s.phoneDisplay})`;
    btn.onclick = function(){
      // highlight
      document.querySelectorAll('.store-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      // open anicare section and toggle detail (try to find static button to pass as btnElem)
      openMenu('anicare');
      setTimeout(()=> {
        const staticBtn = document.querySelector('[data-storeid="'+s.id+'"]');
        toggleStore(s.id, staticBtn || btn);
      }, 160);
    };
    grid.appendChild(btn);
  });

  tireToShow.forEach(s => {
    const btn = document.createElement('button');
    btn.className = 'store-btn';
    btn.setAttribute('data-storeid', s.id);
    btn.textContent = `íƒ€ì´ì–´ â€¢ ${s.name} (${s.phoneDisplay})`;
    btn.onclick = function(){
      document.querySelectorAll('.store-btn').forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      openMenu('tire');
      setTimeout(()=> {
        const staticBtn = document.querySelector('[data-storeid="'+s.id+'"]');
        toggleStore(s.id, staticBtn || btn);
      }, 160);
    };
    grid.appendChild(btn);
  });
}

/* calendar day selection */
function selectChuseokDay(btn){
  document.querySelectorAll('.calendar .day').forEach(d => d.classList.remove('selected'));
  btn.classList.add('selected');
  showChuseokStores(btn.dataset.day);
}

/* Q&A render */
function renderFAQ(){
  const catBar = document.getElementById('qaCatBar');
  const list = document.getElementById('qaList');
  catBar.innerHTML = '';
  list.innerHTML = '';

  const categories = {
    blackbox: 'ğŸ“¹ ë¸”ë™ë°•ìŠ¤',
    lift: 'ğŸ›  íŠ¹ìˆ˜ì¥ë¹„',
    tire: 'ğŸ› íƒ€ì´ì–´',
    wash: 'ğŸ§½ ì„¸ì°¨',
    etc: 'ğŸ“Œ ê¸°íƒ€'
  };

  function getItems(key){
    if(key === 'etc'){
      return (faqData.etc || []).concat(faqData.microphone || []);
    }
    return faqData[key] || [];
  }

  Object.keys(categories).forEach((k, idx) => {
    const btn = document.createElement('button');
    btn.className = 'qa-tab';
    btn.textContent = categories[k];
    btn.onclick = function(){
      document.querySelectorAll('.qa-tab').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const items = getItems(k);
      list.innerHTML = '';
      if(items.length === 0){
        const note = document.createElement('div'); note.className='qa-item';
        note.textContent = 'ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤. faqData.' + k + ' ì— í•­ëª©ì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”.';
        list.appendChild(note);
        return;
      }
      items.forEach(it => {
        const item = document.createElement('div'); item.className = 'qa-item';
        const q = document.createElement('div'); q.className = 'qa-q'; q.textContent = 'Q. ' + it.q;
        const a = document.createElement('div'); a.className = 'qa-a'; a.innerHTML = 'A. ' + it.a;
        q.addEventListener('click', ()=> { a.style.display = (a.style.display === 'block') ? 'none' : 'block'; });
        item.appendChild(q); item.appendChild(a); list.appendChild(item);
      });
    };
    catBar.appendChild(btn);
    if(idx===0) btn.click();
  });
}

/* init */
document.addEventListener('DOMContentLoaded', function(){
  // main menu click handlers
  document.querySelectorAll('.main-menu .main-btn').forEach(b => {
    b.addEventListener('click', ()=> {
      // remove any main selection visuals
      document.querySelectorAll('.main-menu .main-btn').forEach(x=>x.classList.remove('selected'));
      b.classList.add('selected');
      openMenu(b.dataset.target);
    });
  });

  // attach handlers to static store buttons (pass element itself)
  document.querySelectorAll('[data-storeid]').forEach(btn=>{
    btn.addEventListener('click', function(e){
      const id = btn.getAttribute('data-storeid');
      // If a static store button clicked, open its section and show detail
      // Determine which section it belongs to by id prefix
      if(id.startsWith('anicare')){
        openMenu('anicare');
      } else if(id.startsWith('tire')){
        openMenu('tire');
      }
      setTimeout(()=> toggleStore(id, btn), 140);
    });
  });

  // calendar day buttons
  document.querySelectorAll('#chuseokCalendar .day').forEach(btn=>{
    btn.addEventListener('click', ()=> selectChuseokDay(btn));
  });

  // render Q&A content
  renderFAQ();

  // ensure mainMenu visible on load
  document.getElementById('mainMenu').style.display = 'flex';
  document.querySelectorAll('section').forEach(s => s.classList.add('hidden'));
  document.querySelectorAll('.store-detail').forEach(d => d.style.display = 'none');
});

/* expose data for console editing if needed */
window.anicareStores = anicareStores;
window.tireStores = tireStores;
window.holidaySchedule = holidaySchedule;
window.faqData = faqData;
</script>
</body>
</html>
