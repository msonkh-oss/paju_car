<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>íŒŒì£¼ì„œ ì°¨ëŸ‰ê´€ë¦¬ (í¸ì§‘ìš©)</title>
<style>
  :root{
    --bg1:#f8efe0; --bg2:#fffaf4; --accent:#facc15; --primary:#113a7a; --muted:#6b7280; --call:#0ea36b; --holiday-red:#e63946;
  }
  html,body{height:100%;margin:0;padding:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif; -webkit-font-smoothing:antialiased}
  body{background:linear-gradient(135deg,var(--bg1),var(--bg2)); color:#111; -webkit-text-size-adjust:100%}
  .wrap{max-width:920px;margin:18px auto;padding:12px}
  header{background:rgba(255,255,255,0.95);padding:12px;border-radius:10px;text-align:center;font-weight:700;color:var(--primary);box-shadow:0 6px 18px rgba(0,0,0,0.04)}
  .banner{margin:12px 0;padding:10px;border-radius:10px;background:#fff4e6;border:1px solid #f5deb3;font-weight:700;text-align:center}
  .main-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}
  .btn-main{padding:12px;border-radius:12px;border:0;background:linear-gradient(180deg,var(--primary),#0b2a4a);color:#fff;font-weight:700;cursor:pointer}
  .btn-calendar{background:var(--holiday-red)}
  .submenu{display:none;margin-top:12px}
  .section-head{font-weight:700;margin-bottom:8px}
  .store-grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
  .store-btn{padding:10px;border-radius:10px;border:0;background:#fef3c7;color:#111;font-weight:700;cursor:pointer;text-align:center}
  .store-btn:hover{transform:translateY(-2px)}
  .store-btn.selected{background:var(--accent);color:#000;box-shadow:0 12px 30px rgba(0,0,0,0.12)}
  .store-detail{display:none;margin-top:10px;padding:12px;background:#fff;border-radius:10px;box-shadow:0 10px 28px rgba(0,0,0,0.06);text-align:left}
  .phone-link{display:inline-block;padding:8px 12px;border-radius:8px;background:var(--call);color:#fff;font-weight:700;text-decoration:none}
  iframe{width:100%;height:220px;border:0;border-radius:8px;margin-top:8px}
  .back-btn{display:inline-block;margin-top:12px;padding:10px 14px;border-radius:10px;background:var(--muted);color:#fff;border:0;cursor:pointer}
  .qa-category-btns{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:8px}
  .qa-btn{padding:10px;border-radius:10px;border:0;background:#f3f4f6;font-weight:700;cursor:pointer}
  .qa-btn.selected{background:var(--accent);color:#000}
  .qa-content{margin-top:12px;text-align:left}
  .qa-item{background:#fff;padding:10px;border-radius:8px;margin-bottom:8px;box-shadow:0 3px 8px rgba(0,0,0,0.03)}
  .qa-q{font-weight:700;cursor:pointer}
  .qa-a{display:none;margin-top:6px;color:#333}
  .calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:12px}
  .calendar .day{background:var(--holiday-red);color:#fff;padding:10px;border-radius:10px;font-weight:700;text-align:center;cursor:pointer;border:0}
  .calendar .day.selected{background:var(--accent);color:#000}
  @media(max-width:480px){ .calendar{grid-template-columns:repeat(4,1fr)} .store-grid{grid-template-columns:repeat(2,1fr)} }
</style>
</head>
<body>
<script>
  // QR token: ë³€ê²½í•˜ë ¤ë©´ ALLOWED ê°’ì„ ë°”ê¾¸ì„¸ìš”.
  (function(){ const params=new URLSearchParams(window.location.search); const token=params.get('token'); const ALLOWED='abcd1234'; if(token!==ALLOWED){ document.documentElement.innerHTML = '<head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><title>ì ‘ê·¼ë¶ˆê°€</title></head><body style=\"font-family:Arial,Helvetica,sans-serif;display:flex;align-items:center;justify-content:center;height:100vh;\"><div style=\"text-align:center;\"><h2>ì ‘ê·¼ ë¶ˆê°€</h2><p>QR ì½”ë“œë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p></div></body>'; throw new Error('Access denied - invalid token'); } })();
</script>

<div class="wrap">
  <header>ğŸš“ íŒŒì£¼ì„œ ì°¨ëŸ‰ê´€ë¦¬</header>

  <!-- EDIT HERE (ë°°ë„ˆ í…ìŠ¤íŠ¸: []ì•ˆì˜ ê°’ì€ ìì£¼ ìˆ˜ì •) -->
  <div id="banner" class="banner">[09ì›”] ì›”ê°„ì ê²€í˜„í™© : ì ê²€ìœ¨ [79]% , ì •ë¹„ìœ¨ [68]%</div>

  <!-- MAIN MENU -->
  <div id="mainMenu" class="main-grid">
    <button class="btn-main" onclick="openMenu('accident')">ğŸ“ ì‚¬ê³ ì ‘ìˆ˜</button>
    <button class="btn-main" onclick="openMenu('anicare')">ğŸª ì• ë‹ˆì¹´ëœë“œ</button>
    <button class="btn-main" onclick="openMenu('tire')">ğŸ› íƒ€ì´ì–´</button>
    <button class="btn-main" onclick="openMenu('repair')">ğŸ”§ íŠ¹ì¥ìˆ˜ë¦¬</button>
    <button class="btn-main" onclick="openMenu('qa')">â“ Q&A</button>
    <button class="btn-main btn-calendar" onclick="openMenu('chuseok')">ğŸ“… 25ì¶”ì„(ì• ë‹ˆì¹´)</button>
  </div>

  <!-- ACCIDENT -->
  <section id="accident" class="submenu">
    <div class="section-head">ğŸ“ ì‚¬ê³ ì ‘ìˆ˜</div>
    <div class="store-grid">
      <a class="store-btn" href="tel:15666881">ì‚¼ì„±í™”ì¬ 1566-6881</a>
      <a class="store-btn" href="tel:15661228">ì• ë‹ˆì¹´ ê¸´ê¸‰ì¶œë™ 1566-1228</a>
    </div>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- ANICARE -->
  <section id="anicare" class="submenu">
    <div class="section-head">ğŸª ì• ë‹ˆì¹´ëœë“œ</div>
    <div class="store-grid" id="anicareGrid">
      <button class="store-btn" data-storeid="anicare1" onclick="toggleStore('anicare1', this)">ê¸ˆì´Œì </button>
      <button class="store-btn" data-storeid="anicare2" onclick="toggleStore('anicare2', this)">êµí•˜ìš´ì •ì </button>
      <button class="store-btn" data-storeid="anicare3" onclick="toggleStore('anicare3', this)">íƒ„í˜„ì </button>
      <button class="store-btn" data-storeid="anicare4" onclick="toggleStore('anicare4', this)">ì¡°ë¦¬ì </button>
      <button class="store-btn" data-storeid="anicare5" onclick="toggleStore('anicare5', this)">êµí•˜ì </button>
      <button class="store-btn" data-storeid="anicare6" onclick="toggleStore('anicare6', this)">ë¬¸ì‚°ì </button>
      <button class="store-btn" data-storeid="anicare7" onclick="toggleStore('anicare7', this)">ë²•ì›ì </button>
    </div>

    <!-- details (ì „í™”/ì£¼ì†Œ/ì§€ë„) -->
    <div id="anicare1" class="store-detail">
      <a class="phone-link" href="tel:03153903562">ğŸ“ 031-943-1171</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ê¸ˆì´Œë™ 420-1</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ê¸ˆì´Œë™+420-1&output=embed" loading="lazy"></iframe>
    </div>

    <div id="anicare2" class="store-detail">
      <a class="phone-link" href="tel:0319468300">ğŸ“ 031-946-8300</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ìš´ì •ì—­ê¸¸ 293</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ìš´ì •ì—­ê¸¸+293&output=embed" loading="lazy"></iframe>
    </div>

    <div id="anicare3" class="store-detail">
      <a class="phone-link" href="tel:03133191821">ğŸ“ 031-942-1821</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ íƒ„í˜„ë©´ ì¶•í˜„ë¦¬ 253-3</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+íƒ„í˜„ë©´+ì¶•í˜„ë¦¬+253-3&output=embed" loading="lazy"></iframe>
    </div>

    <div id="anicare4" class="store-detail">
      <a class="phone-link" href="tel:03165285353">ğŸ“ 031-965-5353</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì ì¥ê³¡ë¦¬ 529-1</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì¡°ë¦¬ì+ì¥ê³¡ë¦¬+529-1&output=embed" loading="lazy"></iframe>
    </div>

    <div id="anicare5" class="store-detail">
      <a class="phone-link" href="tel:0319572266">ğŸ“ 031-957-2266</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ë°œë™ 44-9</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ë¬¸ë°œë™+44-9&output=embed" loading="lazy"></iframe>
    </div>

    <div id="anicare6" class="store-detail">
      <a class="phone-link" href="tel:0319540951">ğŸ“ 031-954-0951</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ì‚°ì ì„ ìœ ë¦¬ 767-3</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ë¬¸ì‚°ì+ì„ ìœ ë¦¬+767-3&output=embed" loading="lazy"></iframe>
    </div>

    <div id="anicare7" class="store-detail">
      <a class="phone-link" href="tel:0319599469">ğŸ“ 031-959-5711</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ë²•ì›ì ë²•ì›ë¦¬ 422-70</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ë²•ì›ì+ë²•ì›ë¦¬+422-70&output=embed" loading="lazy"></iframe>
    </div>

    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- TIRE -->
  <section id="tire" class="submenu">
    <div class="section-head">ğŸ› íƒ€ì´ì–´</div>
    <div class="store-grid" id="tireGrid">
      <button class="store-btn" data-storeid="tire1" onclick="toggleStore('tire1', this)">ë”íƒ€ì´ì–´ìƒµ ë´‰ì¼ì²œì </button>
      <button class="store-btn" data-storeid="tire2" onclick="toggleStore('tire2', this)">í‹°ìŠ¤í…Œì´ì…˜ ì¶œíŒë‹¨ì§€ì </button>
      <button class="store-btn" data-storeid="tire3" onclick="toggleStore('tire3', this)">í•œêµ­íƒ€ì´ì–´ íŒŒì£¼êµí•˜ì </button>
    </div>

    <div id="tire1" class="store-detail">
      <a class="phone-link" href="tel:050788772848">ğŸ“ 0507-1385-2849</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì í†µì¼ë¡œ 477-10</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì¡°ë¦¬ì+í†µì¼ë¡œ+477-10&output=embed" loading="lazy"></iframe>
    </div>

    <div id="tire2" class="store-detail">
      <a class="phone-link" href="tel:050741324321">ğŸ“ 0507-1477-1335</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì‚°ë‚¨ë¡œ 98</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì‚°ë‚¨ë¡œ+98&output=embed" loading="lazy"></iframe>
    </div>

    <div id="tire3" class="store-detail">
      <a class="phone-link" href="tel:050724213319">ğŸ“ 0507-1438-3340</a>
      <div><small>ê²½ê¸° íŒŒì£¼ì‹œ ì²œì •êµ¬ë¡œ 163-6</small></div>
      <iframe src="https://www.google.com/maps?q=ê²½ê¸°+íŒŒì£¼ì‹œ+ì²œì •êµ¬ë¡œ+163-6&output=embed" loading="lazy"></iframe>
    </div>

    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- REPAIR -->
  <section id="repair" class="submenu">
    <div class="section-head">ğŸ”§ íŠ¹ì¥ìˆ˜ë¦¬</div>
    <p>ì—…ì²´ ì •ë³´ëŠ” ì¶”í›„ ì¶”ê°€í•©ë‹ˆë‹¤.</p>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- Q&A -->
  <section id="qa" class="submenu">
    <div class="section-head">â“ Q&A</div>

    <div class="qa-category-btns">
      <button class="qa-btn" onclick="selectCategory('blackbox', this)">ğŸ“¹ ë¸”ë™ë°•ìŠ¤</button>
      <button class="qa-btn" onclick="selectCategory('equipment', this)">ğŸ›  íŠ¹ì¥ì¥ë¹„</button>
      <button class="qa-btn" onclick="selectCategory('tireFaq', this)">ğŸ› íƒ€ì´ì–´</button>
      <button class="qa-btn" onclick="selectCategory('wash', this)">ğŸ§½ ì„¸ì°¨</button>
      <button class="qa-btn" onclick="selectCategory('etc', this)">ğŸ› ê¸°íƒ€</button>
    </div>

    <div id="qaContent" class="qa-content"></div>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>

  <!-- CHUSEOK -->
  <section id="chuseok" class="submenu">
    <div class="section-head">ğŸ‚ 25ë…„ ì¶”ì„ì—°íœ´ (2025-10-03 ~ 2025-10-09)</div>
    <div class="calendar" role="list" aria-label="ì¶”ì„ ë‹¬ë ¥">
      <button class="day" data-day="3" onclick="selectCalendarDay(this)">10/3</button>
      <button class="day" data-day="4" onclick="selectCalendarDay(this)">10/4</button>
      <button class="day" data-day="5" onclick="selectCalendarDay(this)">10/5</button>
      <button class="day" data-day="6" onclick="selectCalendarDay(this)">10/6</button>
      <button class="day" data-day="7" onclick="selectCalendarDay(this)">10/7</button>
      <button class="day" data-day="8" onclick="selectCalendarDay(this)">10/8</button>
      <button class="day" data-day="9" onclick="selectCalendarDay(this)">10/9</button>
    </div>

    <div id="chuseokStoreGrid" class="store-grid" style="margin-top:14px;"></div>
    <button class="back-btn" onclick="backToMain()">â¬… ë’¤ë¡œ</button>
  </section>
</div>

<script>
/* ============================
   DATA (ìˆ˜ì • ê°€ëŠ¥í•œ ë¶€ë¶„)
   - banner í…ìŠ¤íŠ¸: id="banner"
   - faqData: Q&A í•­ëª© ì¶”ê°€/ìˆ˜ì •
   - anicareStores / tireStores: ë§¤ì¥ ì¶”ê°€/ìˆ˜ì • (idì™€ detail div ì¼ì¹˜ í•„ìš”)
   - holidaySchedule: ë‚ ì§œë³„ ê³ ì • ë§¤ì¥
   ============================ */

const faqData = {
  blackbox:[
    { q:"ë¸”ë™ë°•ìŠ¤ê°€ ê³ ì¥ë‚¬ì–´ìš”", a:"ìˆœì°°ì°¨ëŸ‰ì€ íŠ¹ì¥ì—…ì²´ì— ì „í™”, ì¼ë°˜ì°¨ëŸ‰ì€ ë¸”ë™ë°•ìŠ¤ì—…ì²´ ASì‹ ì²­" },
    { q:"ë¸”ë™ë°•ìŠ¤ê°€ ì €ì¥ì´ ì•ˆë˜ìš”", a:"ì°¨ëŸ‰ë‹´ë‹¹ì—ê²Œ ë¬¸ì˜í›„ ë©”ëª¨ë¦¬ì¹´ë“œ êµì²´" }
  ],
  equipment:[
    { q:"ë¦¬í”„íŠ¸ê°€ ê³ ì¥ë‚¬ì–´ìš”", a:"ë¦¬í”„íŠ¸ì˜†ìª½ì— íŠ¹ì¥ì—…ì²´ ì „í™”ë²ˆí˜¸ í™•ì¸í›„ ASì‹ ì²­, ì°¨ëŸ‰ë‹´ë‹¹ì—ê²Œ í†µë³´" },
    { q:"ì£¼ë¨¹ë§ˆì´í¬ê°€ ê³ ì¥ë‚¬ì–´ìš”", a:"ì£¼ë¨¹ë§ˆì´í¬ ì—¬ë¶„ í™•ì¸ êµì²´ ë˜ëŠ” ìƒˆë¡œ êµ¬ë§¤í›„ êµì²´" }
  ],
  tireFaq:[
    { q:"íƒ€ì´ì–´ê°€ ë§ˆëª¨ë˜ì„œ êµì²´í•´ì•¼ í•´ìš”", a:"íƒ€ì´ì–´ ë©”ë‰´ì—ì„œ ë§¤ì¥ê²€ìƒ‰ ê°€ê¹Œìš´ ë§¤ì¥ ë°©ë¬¸ êµì²´" },
    { q:"íƒ€ì´ì–´ ì˜†ì´ í„°ì¡Œì–´ìš”", a:"ì˜¤ë˜ë˜ì„œ í„°ì§„ê²ƒì´ ì•„ë‹Œê²ƒì€ ë³´í—˜ì²˜ë¦¬ í•´ì•¼ í•©ë‹ˆë‹¤. ë³´í—˜ì ‘ìˆ˜ - ë°œìƒë³´ê³  ë° ì˜¨ë‚˜ë¼ ê³µë¬¸ - íƒ€ì´ì–´ êµì²´" }
  ],
  wash:[
    { q:"ì„¸ì°¨ë¥¼ í•˜ê³ ì‹¶ì–´ìš”", a:"ì„¸ì°¨ë¹„ëŠ” ë”°ë¡œ ë°°ì •ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì„¸ì°¨ìš”ì²­ì„œ ì‘ì„± í›„ ì°¨ëŸ‰ë‹´ë‹¹ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”." }
  ]
etc:[
    { q:"ì‚¬ê³ ë‚¬ëŠ”ë° í”¼í•´ì°¨ì—ìš”", a:"í”¼í•´ì°¨ëŸ‰ì´ë‚˜ ê°€í•´ì°¨ëŸ‰ì´ë‚˜ ë°œìƒë³´ê³  ë° ì˜¨ë‚˜ë¼ê³µë¬¸ì„ ì°¨ëŸ‰ë‹´ë‹¹ìì—ê²Œ ì£¼ì„¸ìš”. " }
  ]
};

const anicareStores = [
  { id:'anicare1', name:'ì• ë‹ˆì¹´ëœë“œ ê¸ˆì´Œì ', phoneDisplay:'031-943-1171', phoneTel:'0319431171', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ê¸ˆì´Œë™ 420-1' },
  { id:'anicare2', name:'ì• ë‹ˆì¹´ëœë“œ êµí•˜ìš´ì •ì ', phoneDisplay:'031-946-8300', phoneTel:'0319468300', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ìš´ì •ì—­ê¸¸ 293' },
  { id:'anicare3', name:'ì• ë‹ˆì¹´ëœë“œ íƒ„í˜„ì ', phoneDisplay:'031-942-1821', phoneTel:'0319421821', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ íƒ„í˜„ë©´ ì¶•í˜„ë¦¬ 253-3' },
  { id:'anicare4', name:'ì• ë‹ˆì¹´ëœë“œ ì¡°ë¦¬ì ', phoneDisplay:'031-965-5353', phoneTel:'0319655353', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì ì¥ê³¡ë¦¬ 529-1' },
  { id:'anicare5', name:'ì• ë‹ˆì¹´ëœë“œ êµí•˜ì ', phoneDisplay:'031-957-2266', phoneTel:'0319572266', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ë°œë™ 44-9' },
  { id:'anicare6', name:'ì• ë‹ˆì¹´ëœë“œ ë¬¸ì‚°ì ', phoneDisplay:'031-954-0951', phoneTel:'0319540951', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ë¬¸ì‚°ì ì„ ìœ ë¦¬ 767-3' },
  { id:'anicare7', name:'ì• ë‹ˆì¹´ëœë“œ ë²•ì›ì ', phoneDisplay:'031-959-5711', phoneTel:'0319595711', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ë²•ì›ì ë²•ì›ë¦¬ 422-70' }
];

const tireStores = [
  { id:'tire1', name:'ë”íƒ€ì´ì–´ìƒµ ë´‰ì¼ì²œì ', phoneDisplay:'0507-1385-2849', phoneTel:'050713852849', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì¡°ë¦¬ì í†µì¼ë¡œ 477-10' },
  { id:'tire2', name:'í‹°ìŠ¤í…Œì´ì…˜ ì¶œíŒë‹¨ì§€ì ', phoneDisplay:'0507-1477-1335', phoneTel:'050714771335', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì‚°ë‚¨ë¡œ 98' },
  { id:'tire3', name:'í•œêµ­íƒ€ì´ì–´ íŒŒì£¼êµí•˜ì ', phoneDisplay:'0507-1438-3340', phoneTel:'050714383340', mapQ:'ê²½ê¸° íŒŒì£¼ì‹œ ì²œì •êµ¬ë¡œ 163-6' }
];

const holidaySchedule = {
  '3': { anicare: ['anicare1','anicare2','anicare3'], tire: ['tire1','tire2'] },
  '4': { anicare: ['anicare4'], tire: ['tire1','tire2','tire3'] },
  '5': { anicare: ['anicare2'], tire: ['tire1','tire2'] },
  '6': { anicare: ['anicare3'], tire: [] },
  '7': { anicare: ['anicare3'], tire: ['tire2'] },
  '8': { anicare: ['anicare4'], tire: ['tire1','tire2'] },
  '9': { anicare: ['anicare1'], tire: ['tire1','tire2','tire3'] }
};

/* ============================
   RENDER / UTIL (ìˆ˜ì • ë¶ˆí•„ìš”)
   ============================ */

function openMenu(id){
  document.getElementById('mainMenu').style.display='none';
  document.querySelectorAll('.submenu').forEach(s=>s.style.display='none');
  const el=document.getElementById(id); if(el) el.style.display='block'; window.scrollTo({top:0,behavior:'smooth'});
}
function backToMain(){ document.querySelectorAll('.submenu').forEach(s=>s.style.display='none'); document.getElementById('mainMenu').style.display='grid'; window.scrollTo({top:0,behavior:'smooth'}); }

function clearStoreSelections(){ document.querySelectorAll('.store-btn').forEach(b=>b.classList.remove('selected')); }

function toggleStore(id, btnElement){
  document.querySelectorAll('.store-detail').forEach(d=>{
    if(d.id===id){ d.style.display=(d.style.display==='block')?'none':'block'; if(d.style.display==='block') d.scrollIntoView({behavior:'smooth', block:'center'}); }
    else d.style.display='none';
  });
  clearStoreSelections();
  if(btnElement) btnElement.classList.add('selected');
  document.querySelectorAll('[data-storeid="'+id+'"]').forEach(el=>el.classList.add('selected'));
}

function pickRandom(arr,n){ const c=arr.slice(), out=[]; while(out.length<n && c.length){ const i=Math.floor(Math.random()*c.length); out.push(c.splice(i,1)[0]); } return out; }

function showChuseokStores(day){
  const grid=document.getElementById('chuseokStoreGrid'); grid.innerHTML=''; const sched=holidaySchedule[day];
  let anicareToShow=[], tireToShow=[];
  if(sched && ((sched.anicare && sched.anicare.length) || (sched.tire && sched.tire.length))){
    if(sched.anicare && sched.anicare.length) anicareToShow = sched.anicare.map(id=>anicareStores.find(s=>s.id===id)).filter(Boolean);
    if(sched.tire && sched.tire.length) tireToShow = sched.tire.map(id=>tireStores.find(s=>s.id===id)).filter(Boolean);
  } else {
    anicareToShow = pickRandom(anicareStores, Math.min(3, anicareStores.length));
    tireToShow = pickRandom(tireStores, Math.min(3, tireStores.length));
  }

  const header=document.createElement('div'); header.style.gridColumn='1/-1'; header.style.fontWeight='700'; header.style.textAlign='left'; header.style.padding='6px 0';
  header.textContent = `10/${day} ì˜ì—… ë§¤ì¥ â€” ì• ë‹ˆì¹´ ${anicareToShow.length}ê³³ Â· íƒ€ì´ì–´ ${tireToShow.length}ê³³`;
  grid.appendChild(header);

  anicareToShow.forEach(s=>{
    const btn=document.createElement('button'); btn.className='store-btn'; btn.setAttribute('data-storeid', s.id);
    btn.textContent = `ì• ë‹ˆì¹´ â€¢ ${s.name} (${s.phoneDisplay})`;
    btn.onclick = function(){ clearStoreSelections(); btn.classList.add('selected'); openMenu('anicare'); setTimeout(()=> toggleStore(s.id, document.querySelector('[data-storeid="'+s.id+'"]')), 160); };
    grid.appendChild(btn);
  });

  tireToShow.forEach(s=>{
    const btn=document.createElement('button'); btn.className='store-btn'; btn.setAttribute('data-storeid', s.id);
    btn.textContent = `íƒ€ì´ì–´ â€¢ ${s.name} (${s.phoneDisplay})`;
    btn.onclick = function(){ clearStoreSelections(); btn.classList.add('selected'); openMenu('tire'); setTimeout(()=> toggleStore(s.id, document.querySelector('[data-storeid="'+s.id+'"]')), 160); };
    grid.appendChild(btn);
  });
}

function selectCalendarDay(btn){
  document.querySelectorAll('.calendar .day').forEach(d=>d.classList.remove('selected'));
  btn.classList.add('selected');
  showChuseokStores(btn.dataset.day);
}

function selectCategory(catKey, btnElement){
  document.querySelectorAll('.qa-btn').forEach(b=>b.classList.remove('selected'));
  if(btnElement) btnElement.classList.add('selected');
  const area=document.getElementById('qaContent'); area.innerHTML='';
  const items=faqData[catKey]||[];
  if(items.length===0){
    const note=document.createElement('div'); note.style.padding='10px'; note.style.color='#666'; note.style.background='#fff'; note.style.borderRadius='8px';
    note.textContent = 'ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤. faqData.'+catKey+' ì— í•­ëª©ì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”.'; area.appendChild(note); return;
  }
  items.forEach(it=>{
    const wrap=document.createElement('div'); wrap.className='qa-item';
    const q=document.createElement('div'); q.className='qa-q'; q.textContent='Q. '+it.q;
    const a=document.createElement('div'); a.className='qa-a'; a.innerHTML='A. '+it.a;
    q.addEventListener('click', ()=> { a.style.display = (a.style.display === 'block') ? 'none' : 'block'; });
    wrap.appendChild(q); wrap.appendChild(a); area.appendChild(wrap);
  });
}

function init(){
  document.getElementById('mainMenu').style.display='grid';
  document.querySelectorAll('.submenu').forEach(s=>s.style.display='none');
  document.querySelectorAll('.store-detail').forEach(d=>d.style.display='none');
  document.getElementById('qaContent').innerHTML = '<div style="padding:10px;color:#666;background:#fff;border-radius:8px;">ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>';
}
window.addEventListener('load', init);

/* expose for console editing */
window.anicareStores=anicareStores; window.tireStores=tireStores; window.holidaySchedule=holidaySchedule; window.faqData=faqData;
</script>
</body>
</html>
